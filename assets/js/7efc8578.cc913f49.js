"use strict";(self.webpackChunkapache_streampark_website=self.webpackChunkapache_streampark_website||[]).push([[2114],{15680:(e,r,t)=>{t.d(r,{xA:()=>u,yg:()=>m});var a=t(96540);function n(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function o(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function i(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?o(Object(t),!0).forEach((function(r){n(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function s(e,r){if(null==e)return{};var t,a,n=function(e,r){if(null==e)return{};var t,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],r.indexOf(t)>=0||(n[t]=e[t]);return n}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}var p=a.createContext({}),l=function(e){var r=a.useContext(p),t=r;return e&&(t="function"==typeof e?e(r):i(i({},r),e)),t},u=function(e){var r=l(e.components);return a.createElement(p.Provider,{value:r},e.children)},g="mdxType",c={inlineCode:"code",wrapper:function(e){var r=e.children;return a.createElement(a.Fragment,{},r)}},d=a.forwardRef((function(e,r){var t=e.components,n=e.mdxType,o=e.originalType,p=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),g=l(t),d=n,m=g["".concat(p,".").concat(d)]||g[d]||c[d]||o;return t?a.createElement(m,i(i({ref:r},u),{},{components:t})):a.createElement(m,i({ref:r},u))}));function m(e,r){var t=arguments,n=r&&r.mdxType;if("string"==typeof e||n){var o=t.length,i=new Array(o);i[0]=d;var s={};for(var p in r)hasOwnProperty.call(r,p)&&(s[p]=r[p]);s.originalType=e,s[g]="string"==typeof e?e:n,i[1]=s;for(var l=2;l<o;l++)i[l]=t[l];return a.createElement.apply(null,i)}return a.createElement.apply(null,t)}d.displayName="MDXCreateElement"},3645:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>p,contentTitle:()=>i,default:()=>c,frontMatter:()=>o,metadata:()=>s,toc:()=>l});var a=t(58168),n=(t(96540),t(15680));const o={id:"version-upgrade",title:"Version Upgrade Guide",sidebar_position:13},i=void 0,s={unversionedId:"user-guide/version-upgrade",id:"user-guide/version-upgrade",title:"Version Upgrade Guide",description:"Pre-Upgrade Preparation",source:"@site/docs/user-guide/13-version-upgrade.md",sourceDirName:"user-guide",slug:"/user-guide/version-upgrade",permalink:"/docs/user-guide/version-upgrade",draft:!1,editUrl:"https://github.com/apache/incubator-streampark-website/edit/dev/docs/user-guide/13-version-upgrade.md",tags:[],version:"current",sidebarPosition:13,frontMatter:{id:"version-upgrade",title:"Version Upgrade Guide",sidebar_position:13},sidebar:"tutorialSidebar",previous:{title:"Quick Start",permalink:"/docs/user-guide/platformBasicUsage"},next:{title:"Programming Paradigm",permalink:"/docs/development/Programming-paradigm"}},p={},l=[{value:"Pre-Upgrade Preparation",id:"pre-upgrade-preparation",level:3},{value:"Locating Upgrade Scripts",id:"locating-upgrade-scripts",level:3},{value:"Executing Upgrade Scripts",id:"executing-upgrade-scripts",level:3},{value:"Example: Upgrading from 2.0.0 to 2.1.2",id:"example-upgrading-from-200-to-212",level:4},{value:"Verifying the Upgrade",id:"verifying-the-upgrade",level:3},{value:"Troubleshooting",id:"troubleshooting",level:3},{value:"Next Steps",id:"next-steps",level:3}],u={toc:l},g="wrapper";function c(e){let{components:r,...t}=e;return(0,n.yg)(g,(0,a.A)({},u,t,{components:r,mdxType:"MDXLayout"}),(0,n.yg)("h3",{id:"pre-upgrade-preparation"},"Pre-Upgrade Preparation"),(0,n.yg)("p",null,"Before starting the upgrade process, please ensure the following preparatory steps are completed to ensure a smooth transition."),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Database Backup"),": An essential step to ensure you have a complete backup of your database. This allows for recovery to the pre-upgrade state if any problems are encountered during the upgrade."),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Check Version Compatibility"),": Confirm your current version number and ensure that the upgrade path is compatible with your version. This guide is applicable for upgrades starting from version ",(0,n.yg)("inlineCode",{parentName:"li"},"1.2.3"),"."),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Verify System Requirements"),": Ensure that your server meets the system requirements for the new version.")),(0,n.yg)("h3",{id:"locating-upgrade-scripts"},"Locating Upgrade Scripts"),(0,n.yg)("p",null,"Upgrade scripts are located in the ",(0,n.yg)("inlineCode",{parentName:"p"},"script/upgrade")," directory. You will need to choose the correct script based on your current version and the target version for the upgrade."),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-plaintext"},"script\n\u2514\u2500\u2500 upgrade\n      \u251c\u2500\u2500 mysql\n      |     \u251c\u2500\u2500 1.2.3.sql\n      |     \u251c\u2500\u2500 2.0.0.sql\n      |     \u251c\u2500\u2500 2.1.0.sql\n      |     \u2514\u2500\u2500 2.1.2.sql\n      \u2514\u2500\u2500 pgsql\n            \u251c\u2500\u2500 2.1.0.sql\n            \u251c\u2500\u2500 2.1.2.sql\n            \u2514\u2500\u2500 2.1.3.sql\n")),(0,n.yg)("h3",{id:"executing-upgrade-scripts"},"Executing Upgrade Scripts"),(0,n.yg)("p",null,"Connect to your database using a database management tool (such as MySQL Workbench, pgAdmin, JetBrains DataGrip) and execute the upgrade scripts sequentially."),(0,n.yg)("h4",{id:""}),(0,n.yg)("h4",{id:"example-upgrading-from-200-to-212"},"Example: Upgrading from 2.0.0 to 2.1.2"),(0,n.yg)("ol",null,(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("strong",{parentName:"li"},"Upgrade to 2.1.0"),":")),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-bash"},"# Use command line or your database management tool to execute the 2.1.0.sql script\nmysql -h 127.0.0.1 -P 3306 -u root --password=streampark streampark < ./script/upgrade/mysql/2.1.0.sql\n")),(0,n.yg)("ol",{start:2},(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("strong",{parentName:"li"},"Upgrade to 2.1.2"),":")),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-bash"},"# Next, execute the 2.1.2.sql script to complete the upgrade\nmysql -h 127.0.0.1 -P 3306 -u root --password=streampark streampark < ./script/upgrade/mysql/2.1.2.sql\n")),(0,n.yg)("h3",{id:"verifying-the-upgrade"},"Verifying the Upgrade"),(0,n.yg)("p",null,"After completing the upgrade, log into your application and check that everything is running normally. You can review the application logs or verify that new version features are working as expected."),(0,n.yg)("h3",{id:"troubleshooting"},"Troubleshooting"),(0,n.yg)("p",null,"If you encounter any issues during the upgrade process:"),(0,n.yg)("ol",null,(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("strong",{parentName:"li"},"Refer to Official Documentation"),": Look for possible error messages and solutions."),(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("strong",{parentName:"li"},"Restore Backup"),": If the upgrade fails, restore your database to its pre-upgrade state using the backup created earlier."),(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("strong",{parentName:"li"},"Seek Help"),": If the problem persists, seek assistance through Apache StreamPark's official forum or community.")),(0,n.yg)("h3",{id:"next-steps"},"Next Steps"),(0,n.yg)("p",null,"After the upgrade is complete, you may need to adjust and optimize your application's configuration and performance settings based on the features and improvements of the new version."))}c.isMDXComponent=!0}}]);